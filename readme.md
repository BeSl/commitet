# О проекте

__Проект__ "1коммитет"

__Цель__ упростить изменения по доработкам внешних отчетов обработок, текстов универсальных заданий, выполнения кода. Без локальных настроек на ПК 1C разработчика

# Разработка

Разработка ведется в IntelliJ IDEA Community Edition 2024.2.4/Open IDE , при разработке используется версия Java 17, проект построен на базе фреймворка Jmix(https://jmix.ru), язык разработки Kotlin

# Развертывание

Для сборки нужно из корня проекта выполнить команду

```shell    
./gradlew "-Pvaadin.productionMode=true" bootJar
```

В каталоге **build\libs** будет создан файл вида commitet_jm-[номер версии вида x.y.z]-build.jar

Для запуска выполнить 
    
```cmd    
java -jar commitet_jm-[x.y.z]-build.jar  
```
Проект запустится на порту **8080**

Пользователь **admin** пароль **admin**


# Описание работы
## Переопределение настроек
производится в файле application.yml  (должен быть в каталоге с .jar файлом)
Пример настроек 
```
app:
  version: 1.0.7

server:
  port: 8090

logging:
  level:
    root: INFO
    com.besl: INFO

spring:
  ai:
    ollama:
      chat:
        model: qwen3:14b
    ollama.base-url: http://localhost:11434
```

## Интерфейс администратора

Администратору доступны разделы:
- Пользователи
- Список проектов
- Список коммитов 

## Актуальный дизайн
#### Авторизация
![ui](img_readme/new_ui/01.png)

#### Стартовая
![ui](img_readme/new_ui/02.png)

#### Меню администратора
![ui](img_readme/new_ui/03.png)
#### Список коммитов
![ui](img_readme/new_ui/04.png)

  
### 1. Пользователи
1.1 Добавление пользователя
в меню выбираем "Users"

![ui](img_readme/int_user1.png)

нажимаем "Создать"

Заполняем все поля, устанавливаем пароль. Если пользователь будет администрировать приложение - ставим флаг. Чтобы сохранить нажимем "ОК"
![ui](img_readme/int_user2.png)

Выделяем пользователя в списке, станет активным команда **Role assigments** - позволяет назначать пользователям права доступа

![ui](img_readme/int_user3.png)


![ui](img_readme/int_user4.png)

Для обычного пользователя назначаем 2 роли:
- developer
- ui-minimal

1.2 Управление списком проектов

в меню выбираем "Projects"

![ui](img_readme/int_proj1.png)
При создании нужно прописать каталог хранения репозитория на сервере
Адрес репозитория. Без ".git"

Для клонирования в каталог нажать кнопку "Git clone"


## Интерфейс пользователя

Пользователю доступен список своих коммитов, управление своими настройками в Users, например для смены пароля.

При создании коммита  статус устанавливается в "New", когда начинается обработка коммита -Коммит открывается только для просмотра,  статус "Processed".
В случае успешной обработки статус "Success", при ошибке "Error", в детализации отобразится информация по ошибке.
 


# Прочее
__В разработке базовая админка для хранилищ конфигураций__

мысли по доработкам фиксируются в issue
